
plugins {
    id 'java-library'
    id "war"
    id "org.teavm" version "0.11.0"
}


repositories {
    mavenCentral()
}

dependencies {
    testImplementation "junit:junit:4.13.2"
 
    api  project(':nge-platform-common')
    testImplementation teavm.libs.jsoApis
}

java {
    toolchain {
        languageVersion = JavaLanguageVersion.of(21) 
    }
}

tasks.named('compileTestJava') {
    javaCompiler = javaToolchains.compilerFor {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

tasks.named('test') {
    javaLauncher = javaToolchains.launcherFor {
        languageVersion = JavaLanguageVersion.of(21)
    }
}

sourceSets {
    test {
        resources {
            srcDirs = ['src/test/resources', 'src/main/resources']            
        }
    }
}